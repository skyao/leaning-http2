---
date: 2018-09-29T07:07:00+08:00
title: PING帧
weight: 357
menu:
  main:
    parent: "frame-definition"
---

## 帧格式

PING帧（type = 0x6）是一种机制，**用于测量来自发送方的最小往返时间，以及确定空闲连接是否仍然有效**。 PING帧可以从任何端点发送。

```
 +---------------------------------------------------------------+
 |                                                               |
 |                      Opaque Data (64)                         |
 |                                                               |
 +---------------------------------------------------------------+
```

除帧头外，PING帧必须在有效载荷中包含8个不透明数据字节。 发送者可以包含它选择的任何值，并以任何方式使用这些八位字节。 

不包括ACK标记的PING帧的接收者务必发送一个PING帧，并在响应中设置ACK标志，并使用相同的有效载荷。**PING响应应该被赋予比任何其他帧更高的优先级**。

## 标志

- ACK（0x1）：置位时，位0表示该PING帧是PING响应。 端点必须在PING响应中设置这个标志。 端点不能响应包含这个标志的PING帧。

## 说明

PING帧不与任何独立的流关联。如果接收到流标识符字段不是0的PING帧，接收者必须以类型是 PROTOCOL_ERROR 的连接错误来响应。

接收到长度字段的值不是8的PING帧，则 必须被作为类型是FRAME_SIZE_ERROR的连接错误。